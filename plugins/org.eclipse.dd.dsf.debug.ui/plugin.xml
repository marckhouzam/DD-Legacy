<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension point="org.eclipse.debug.core.watchExpressionDelegates">
      <watchExpressionDelegate 
         	debugModel="org.eclipse.dd.dsf.debug.ui"
     		delegateClass="org.eclipse.dd.dsf.debug.ui.viewmodel.expression.WatchExpressionDelegate"/>
  </extension>

   <extension point="org.eclipse.ui.editors.annotationTypes">
      <type
         name="org.eclipse.dd.debug.currentIP">
      </type>
      <type
         name="org.eclipse.dd.debug.secondaryIP">
      </type>
   </extension>   
   
   <extension point="org.eclipse.ui.editors.markerAnnotationSpecification">
      <specification
            annotationImageProvider="org.eclipse.dd.dsf.debug.ui.sourcelookup.InstructionPointerImageProvider"
            annotationType="org.eclipse.dd.debug.currentIP"
            colorPreferenceKey="currentIPColor"
            colorPreferenceValue="198,219,174"
            highlightPreferenceKey="currentIPHighlight"
            highlightPreferenceValue="true"
            label="%debugCurrentInstructionPointer"
            overviewRulerPreferenceKey="currentIPOverviewRuler"
            overviewRulerPreferenceValue="true"
            presentationLayer="6"
            textPreferenceKey="currentIPIndication"
            textPreferenceValue="false"
            verticalRulerPreferenceKey="currentIPVerticalRuler"
            verticalRulerPreferenceValue="true">
      </specification>
      <specification
            annotationImageProvider="org.eclipse.dd.dsf.debug.ui.sourcelookup.InstructionPointerImageProvider"
            annotationType="org.eclipse.dd.debug.secondaryIP"
            colorPreferenceKey="secondaryIPColor"
            colorPreferenceValue="219,235,204"
            highlightPreferenceKey="secondaryIPHighlight"
            highlightPreferenceValue="true"
            label="%debugCallStack"
            overviewRulerPreferenceKey="secondaryIPOverviewRuler"
            overviewRulerPreferenceValue="true"
            presentationLayer="6"
            textPreferenceKey="secondaryIPIndication"
            textPreferenceValue="false"
            verticalRulerPreferenceKey="secondaryIPVerticalRuler"
            verticalRulerPreferenceValue="true">
      </specification>
   </extension>
   <extension
         point="org.eclipse.ui.viewActions">
      <viewContribution
            id="org.eclipse.dd.dsf.debug.ui.viewmodel.update.Refresh"
            targetID="org.eclipse.debug.ui.RegisterView">
         <action
               class="org.eclipse.dd.dsf.debug.ui.viewmodel.update.actions.RefreshActionDelegate"
               icon="icons/refresh.gif"
               id="org.eclipse.dd.dsf.debug.ui.viewmodel.update.actions.Refresh"
               label="Refresh"
               toolbarPath="additions">
         </action>
      </viewContribution>
      <viewContribution
            id="org.eclipse.dd.dsf.debug.ui.viewmodel.update.Refresh"
            targetID="org.eclipse.debug.ui.VariableView">
         <action
               class="org.eclipse.dd.dsf.debug.ui.viewmodel.update.actions.RefreshActionDelegate"
               icon="icons/refresh.gif"
               id="org.eclipse.dd.dsf.debug.ui.viewmodel.update.actions.Refresh"
               label="Refresh"
               toolbarPath="additions">
         </action>
      </viewContribution>
      <viewContribution
            id="org.eclipse.dd.dsf.debug.ui.viewmodel.update.Refresh"
            targetID="org.eclipse.debug.ui.ExpressionView">
         <action
               class="org.eclipse.dd.dsf.debug.ui.viewmodel.update.actions.RefreshActionDelegate"
               icon="icons/refresh.gif"
               id="org.eclipse.dd.dsf.debug.ui.viewmodel.update.actions.Refresh"
               label="Refresh"
               toolbarPath="additions">
         </action>
      </viewContribution>
      <viewContribution
            id="org.eclipse.dd.dsf.debug.ui.update.variable.updatePolicies"
            targetID="org.eclipse.debug.ui.VariableView">
         <action
               class="org.eclipse.dd.dsf.debug.ui.viewmodel.update.actions.SelectUpdatePolicyAction"
               id="org.eclipse.dd.dsf.debug.ui.update.selectUpdatePolicy"
               label="Update Policy"
               menubarPath="additions">
         </action>
      </viewContribution>
      <viewContribution
            id="org.eclipse.dd.dsf.debug.ui.update.register.updatePolicies"
            targetID="org.eclipse.debug.ui.RegisterView">
         <action
               class="org.eclipse.dd.dsf.debug.ui.viewmodel.update.actions.SelectUpdatePolicyAction"
               id="org.eclipse.dd.dsf.debug.ui.update.selectUpdatePolicy"
               label="Update Policy"
               menubarPath="additions">
         </action>
      </viewContribution>
   </extension>
   
	<extension 
	    point="org.eclipse.debug.ui.detailPaneFactories">
        <detailFactories
             class="org.eclipse.dd.dsf.debug.internal.ui.viewmodel.numberformat.detail.NumberFormatDetailPaneFactory"
             id="org.eclipse.dd.dsf.debug.ui.viewmodel.detailPaneFactory">
			<enablement>
		        <with variable="selection">
	        		<iterate>
					    <instanceof value="org.eclipse.dd.dsf.debug.ui.viewmodel.numberformat.IFormattedValueVMContext"/>
	        		</iterate>
	      		</with>
	      	</enablement>      
        </detailFactories>
        <detailFactories
              class="org.eclipse.dd.dsf.debug.ui.viewmodel.modules.ModuleDetailPaneFactory"
              id="org.eclipse.dd.dsf.debug.ui.viewmodel.moduleDetailPaneFactory">
        </detailFactories>
    </extension>
    
</plugin>
