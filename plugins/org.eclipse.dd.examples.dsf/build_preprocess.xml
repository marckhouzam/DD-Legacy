<?xml version="1.0"?>
<!-- ======================================================================
 	 Copyright (c) 2005, 2008 IBM Corporation and others.\
 	 All rights reserved. This program and the accompanying materials 
 	 are made available under the terms of the Eclipse Public License v1.0
 	 which accompanies this distribution, and is available at
 	 http://www.eclipse.org/legal/epl-v10.html
 
 	 Contributors:
    	 IBM Corporation - initial API and implementation

     EclipseCon    
     Debug Tutorial Exercises
     ====================================================================== -->
<project name="EclipseCon" default="generateAll">
	<description>
            Debug Tutorial Exercises
    </description>

	<taskdef name="preprocess" classname="org.eclipse.dd.examples.ant.tasks.PreProcessor" classpath="../bin" />
	<property name="workspace" location="c:\eclipse-dev\dev-3.4" />
	<property name="srcBase" location="${workspace}/org.eclipse.dd.examples.dsf/src_preprocess" />
	<property name="destBase" location="${workspace}/org.eclipse.dd.examples.dsf/src" />

	<!-- ================================= 
          target: generateAll              
         ================================= -->
	<target name="generateAll" description="--> Debug Tutorial Exercises">
		
    <!-- = = = = = = = = = = = = = = = = =
          macrodef: process          
         = = = = = = = = = = = = = = = = = -->
    <macrodef name="process">
        <attribute name="packagedir"/>
    	<attribute name="symbols"/>
        <sequential>
            <delete dir="@{destBase}/${packagedir}/excercise"/>
            <delete dir="@{destBase}/${packagedir}/answer"/>
            <mkdir dir="@{destBase}/${packagedir}/excercise"/>
            <mkdir dir="@{destBase}/${packagedir}/answer"/>
        	<preprocess destdir="@{destBase}/${packagedir}/excercise" symbols="@{symbols}">
        		<fileset dir="@{destBase}/${packagedir}"/>
        	</preprocess>
        </sequential>
    </macrodef>

	<process packagedir="${srcBase}/org/eclipse/dd/examples/dsf/requestmonitor" symbols="request_monitors_ex1"/>
	</target>

</project>

