
<html>
<head>
<title>PDAProgramVMNode.java</title>
<meta name="generator" content="java2html 0.9.2">
<meta name="date" content="2008-03-11T04:46:58+00:00">
</head>

<body bgcolor="#FFFFFF">
<pre width="80"><a name="line1">  1: </a><font color="#B22222">/*******************************************************************************</font>
<a name="line2">  2: </a><font color="#B22222"> * Copyright (c) 2006 Wind River Systems and others.</font>
<a name="line3">  3: </a><font color="#B22222"> * All rights reserved. This program and the accompanying materials</font>
<a name="line4">  4: </a><font color="#B22222"> * are made available under the terms of the Eclipse Public License v1.0</font>
<a name="line5">  5: </a><font color="#B22222"> * which accompanies this distribution, and is available at</font>
<a name="line6">  6: </a><font color="#B22222"> * http://www.eclipse.org/legal/epl-v10.html</font>
<a name="line7">  7: </a><font color="#B22222"> * </font>
<a name="line8">  8: </a><font color="#B22222"> * Contributors:</font>
<a name="line9">  9: </a><font color="#B22222"> *     Wind River Systems - initial API and implementation</font>
<a name="line10"> 10: </a><font color="#B22222"> *     Ericsson                   - Modified for multi threaded functionality        </font>
<a name="line11"> 11: </a><font color="#B22222"> *******************************************************************************/</font>
<a name="line12"> 12: </a>package org.eclipse.dd.examples.pda.ui.viewmodel.launch;

<a name="line14"> 14: </a><font color="#228B22">import java.util.concurrent.RejectedExecutionException;</font>

<a name="line16"> 16: </a><font color="#228B22">import org.eclipse.core.runtime.CoreException;</font>
<a name="line17"> 17: </a><font color="#228B22">import org.eclipse.dd.dsf.concurrent.ConfinedToDsfExecutor;</font>
<a name="line18"> 18: </a><font color="#228B22">import org.eclipse.dd.dsf.concurrent.DataRequestMonitor;</font>
<a name="line19"> 19: </a><font color="#228B22">import org.eclipse.dd.dsf.concurrent.DsfRunnable;</font>
<a name="line20"> 20: </a><font color="#228B22">import org.eclipse.dd.dsf.concurrent.ImmediateExecutor;</font>
<a name="line21"> 21: </a><font color="#228B22">import org.eclipse.dd.dsf.concurrent.RequestMonitor;</font>
<a name="line22"> 22: </a><font color="#228B22">import org.eclipse.dd.dsf.datamodel.IDMEvent;</font>
<a name="line23"> 23: </a><font color="#228B22">import org.eclipse.dd.dsf.debug.service.IRunControl;</font>
<a name="line24"> 24: </a><font color="#228B22">import org.eclipse.dd.dsf.debug.service.IRunControl.IExecutionDMContext;</font>
<a name="line25"> 25: </a><font color="#228B22">import org.eclipse.dd.dsf.debug.service.IRunControl.IExecutionDMData;</font>
<a name="line26"> 26: </a><font color="#228B22">import org.eclipse.dd.dsf.debug.service.IRunControl.IResumedDMEvent;</font>
<a name="line27"> 27: </a><font color="#228B22">import org.eclipse.dd.dsf.debug.service.IRunControl.ISuspendedDMEvent;</font>
<a name="line28"> 28: </a><font color="#228B22">import org.eclipse.dd.dsf.service.DsfSession;</font>
<a name="line29"> 29: </a><font color="#228B22">import org.eclipse.dd.dsf.ui.viewmodel.AbstractVMContext;</font>
<a name="line30"> 30: </a><font color="#228B22">import org.eclipse.dd.dsf.ui.viewmodel.IVMAdapter;</font>
<a name="line31"> 31: </a><font color="#228B22">import org.eclipse.dd.dsf.ui.viewmodel.IVMNode;</font>
<a name="line32"> 32: </a><font color="#228B22">import org.eclipse.dd.dsf.ui.viewmodel.VMDelta;</font>
<a name="line33"> 33: </a><font color="#228B22">import org.eclipse.dd.dsf.ui.viewmodel.datamodel.AbstractDMVMNode;</font>
<a name="line34"> 34: </a><font color="#228B22">import org.eclipse.dd.dsf.ui.viewmodel.datamodel.AbstractDMVMProvider;</font>
<a name="line35"> 35: </a><font color="#228B22">import org.eclipse.dd.examples.pda.PDAPlugin;</font>
<a name="line36"> 36: </a><font color="#228B22">import org.eclipse.dd.examples.pda.launch.PDALaunch;</font>
<a name="line37"> 37: </a><font color="#228B22">import org.eclipse.dd.examples.pda.service.PDACommandControl;</font>
<a name="line38"> 38: </a><font color="#228B22">import org.eclipse.dd.examples.pda.service.PDAProgramDMContext;</font>
<a name="line39"> 39: </a><font color="#228B22">import org.eclipse.dd.examples.pda.service.PDAStartedEvent;</font>
<a name="line40"> 40: </a><font color="#228B22">import org.eclipse.debug.core.ILaunch;</font>
<a name="line41"> 41: </a><font color="#228B22">import org.eclipse.debug.internal.ui.viewers.model.provisional.IChildrenCountUpdate;</font>
<a name="line42"> 42: </a><font color="#228B22">import org.eclipse.debug.internal.ui.viewers.model.provisional.IChildrenUpdate;</font>
<a name="line43"> 43: </a><font color="#228B22">import org.eclipse.debug.internal.ui.viewers.model.provisional.IElementLabelProvider;</font>
<a name="line44"> 44: </a><font color="#228B22">import org.eclipse.debug.internal.ui.viewers.model.provisional.IHasChildrenUpdate;</font>
<a name="line45"> 45: </a><font color="#228B22">import org.eclipse.debug.internal.ui.viewers.model.provisional.ILabelUpdate;</font>
<a name="line46"> 46: </a><font color="#228B22">import org.eclipse.debug.internal.ui.viewers.model.provisional.IModelDelta;</font>
<a name="line47"> 47: </a><font color="#228B22">import org.eclipse.debug.internal.ui.viewers.model.provisional.IViewerUpdate;</font>
<a name="line48"> 48: </a><font color="#228B22">import org.eclipse.debug.ui.DebugUITools;</font>
<a name="line49"> 49: </a><font color="#228B22">import org.eclipse.debug.ui.IDebugUIConstants;</font>
<a name="line50"> 50: </a><font color="#228B22">import org.eclipse.jface.viewers.TreePath;</font>

<a name="line52"> 52: </a><font color="#B22222">/**</font>
<a name="line53"> 53: </a><font color="#B22222"> * View Model node representing a PDA program. </font>
<a name="line54"> 54: </a><font color="#B22222"> */</font>
<a name="line55"> 55: </a>@SuppressWarnings(<font color="#666666">"restriction"</font>)
<a name="line56"> 56: </a><strong><font color="#4169E1"><a name="PDAProgramVMNode"></a>public class PDAProgramVMNode extends AbstractDMVMNode </font></strong>
<a name="line57"> 57: </a>    implements IElementLabelProvider
<a name="line58"> 58: </a>{
<a name="line59"> 59: </a>    <font color="#B22222">// View model context representing a terminated PDA program.</font>
<a name="line60"> 60: </a>    <font color="#B22222">// It's purpose is to show a terminated program in the debug view</font>
<a name="line61"> 61: </a>    <font color="#B22222">// even after the DSF session is terminated.</font>
<a name="line62"> 62: </a>    <font color="#B22222">// </font>
<a name="line63"> 63: </a>    <font color="#B22222">// Note: this context does not implement the IDMVMContext</font>
<a name="line64"> 64: </a>    <font color="#B22222">// interfaces, as it does not use an IDMContext as its root.</font>
<a name="line65"> 65: </a>    <font color="#B22222">// </font>
<a name="line66"> 66: </a>    <font color="#B22222">// To implement comparison methods, this contexts uses the</font>
<a name="line67"> 67: </a>    <font color="#B22222">// VM node object, such that two terminated program contexts</font>
<a name="line68"> 68: </a>    <font color="#B22222">// from the same instance of VM node will be equal. </font>
<a name="line69"> 69: </a>    private static class TerminatedProgramVMContext extends AbstractVMContext {
<a name="line70"> 70: </a>        TerminatedProgramVMContext(IVMAdapter adapter, IVMNode node) {
<a name="line71"> 71: </a>            super(adapter, node);
<a name="line72"> 72: </a>        }
<a name="line73"> 73: </a>        
<a name="line74"> 74: </a>        @Override
<a name="line75"> 75: </a><strong><font color="#4169E1">        public boolean equals(Object obj)</font></strong> {
<a name="line76"> 76: </a>            <font color="#4169E1">if</font> (obj instanceof TerminatedProgramVMContext) {
<a name="line77"> 77: </a>                TerminatedProgramVMContext context = (TerminatedProgramVMContext)obj;
<a name="line78"> 78: </a>                <font color="#4169E1">return</font> getVMNode().equals(context.getVMNode());
<a name="line79"> 79: </a>            }
<a name="line80"> 80: </a>            <font color="#4169E1">return</font> false;
<a name="line81"> 81: </a>        }
<a name="line82"> 82: </a>        
<a name="line83"> 83: </a>        @Override
<a name="line84"> 84: </a><strong><font color="#4169E1">        public int hashCode()</font></strong> {
<a name="line85"> 85: </a>            <font color="#4169E1">return</font> getVMNode().hashCode();
<a name="line86"> 86: </a>        }
<a name="line87"> 87: </a>    }
<a name="line88"> 88: </a>    
<a name="line89"> 89: </a><strong><font color="#4169E1">    public PDAProgramVMNode(AbstractDMVMProvider provider, DsfSession session)</font></strong> {
<a name="line90"> 90: </a>        super(provider, session, IExecutionDMContext.class);
<a name="line91"> 91: </a>    }

<a name="line93"> 93: </a>    @Override
<a name="line94"> 94: </a><strong><font color="#4169E1">    public void update(IHasChildrenUpdate[] updates)</font></strong> {
<a name="line95"> 95: </a>        <font color="#4169E1">for</font> (IHasChildrenUpdate update : updates) {
<a name="line96"> 96: </a>            <font color="#B22222">// Check if the launch is initialized.  PDA program element should </font>
<a name="line97"> 97: </a>            <font color="#B22222">// be shown only if the launch has completed initializing.</font>
<a name="line98"> 98: </a>            PDALaunch launch = findLaunchInPath(update.getElementPath());
<a name="line99"> 99: </a>            update.setHasChilren(launch != null &amp;&amp; launch.isInitialized());
<a name="line100">100: </a>            update.done();
<a name="line101">101: </a>        }        
<a name="line102">102: </a>    }

<a name="line104">104: </a>    @Override
<a name="line105">105: </a><strong><font color="#4169E1">    public void update(IChildrenCountUpdate[] updates)</font></strong> {
<a name="line106">106: </a>        <font color="#4169E1">for</font> (IChildrenCountUpdate update : updates) {
<a name="line107">107: </a>            <font color="#B22222">// Check if the launch is initialized.  PDA program element should </font>
<a name="line108">108: </a>            <font color="#B22222">// be shown only if the launch has completed initializing.</font>
<a name="line109">109: </a>            PDALaunch launch = findLaunchInPath(update.getElementPath());
<a name="line110">110: </a>            <font color="#4169E1">if</font> (launch != null &amp;&amp; launch.isInitialized()) {
<a name="line111">111: </a>                update.setChildCount(1);
<a name="line112">112: </a>            } <font color="#4169E1">else</font> {
<a name="line113">113: </a>                update.setChildCount(0);
<a name="line114">114: </a>            }
<a name="line115">115: </a>            update.done();
<a name="line116">116: </a>        }        
<a name="line117">117: </a>    }

<a name="line119">119: </a>    @Override
<a name="line120">120: </a><strong><font color="#4169E1">    public void update(IChildrenUpdate[] updates)</font></strong> {
<a name="line121">121: </a>        <font color="#4169E1">for</font> (IChildrenUpdate update : updates) {
<a name="line122">122: </a>            PDALaunch launch = findLaunchInPath(update.getElementPath());
<a name="line123">123: </a>            <font color="#4169E1">if</font> (launch != null &amp;&amp; launch.isInitialized() &amp;&amp; launch.isShutDown()) {
<a name="line124">124: </a>                <font color="#B22222">// If the debug session has been shut down, add a dummy </font>
<a name="line125">125: </a>                <font color="#B22222">// VM context representing the PDA thread.</font>
<a name="line126">126: </a>                update.setChild(new TerminatedProgramVMContext(getVMProvider().getVMAdapter(), this), 0);
<a name="line127">127: </a>                update.done();
<a name="line128">128: </a>            } <font color="#4169E1">else</font> {
<a name="line129">129: </a>                super.update(new IChildrenUpdate[] { update });
<a name="line130">130: </a>            }
<a name="line131">131: </a>        }
<a name="line132">132: </a>    }
<a name="line133">133: </a>    
<a name="line134">134: </a>    @Override
<a name="line135">135: </a><strong><font color="#4169E1">    protected void updateElementsInSessionThread(final IChildrenUpdate update)</font></strong> {
<a name="line136">136: </a>            <font color="#B22222">// Get the instance of the service.  Note that there is no race condition</font>
<a name="line137">137: </a>            <font color="#B22222">// in getting the service since this method is called only in the </font>
<a name="line138">138: </a>            <font color="#B22222">// service executor thread.</font>
<a name="line139">139: </a>        final PDACommandControl commandControl = getServicesTracker().getService(PDACommandControl.class);

<a name="line141">141: </a>        <font color="#B22222">// Check if the service is available.  If it is not, no elements are </font>
<a name="line142">142: </a>        <font color="#B22222">// updated.</font>
<a name="line143">143: </a>        <font color="#4169E1">if</font> (commandControl == null) {
<a name="line144">144: </a>            handleFailedUpdate(update);
<a name="line145">145: </a>            <font color="#4169E1">return</font>;
<a name="line146">146: </a>        }
<a name="line147">147: </a>        
<a name="line148">148: </a>        update.setChild(createVMContext(commandControl.getProgramDMContext()), 0);
<a name="line149">149: </a>        update.done();
<a name="line150">150: </a>    }

<a name="line152">152: </a><strong><font color="#4169E1">    public void update(final ILabelUpdate[] updates)</font></strong> {
<a name="line153">153: </a>        <font color="#4169E1">for</font> (final ILabelUpdate update : updates) {
<a name="line154">154: </a>            <font color="#4169E1">if</font> (update.getElement() instanceof TerminatedProgramVMContext) {
<a name="line155">155: </a>                <font color="#B22222">// If the element is a terminated program, update the label </font>
<a name="line156">156: </a>                <font color="#B22222">// in the View Model thread.</font>
<a name="line157">157: </a>                updateTerminatedThreadLabel(update);
<a name="line158">158: </a>            } <font color="#4169E1">else</font> {
<a name="line159">159: </a>                <font color="#B22222">// If the element is the PDA Program context, try to switch</font>
<a name="line160">160: </a>                <font color="#B22222">// to the DSF session thread before updating the label.</font>
<a name="line161">161: </a>                <font color="#4169E1">try</font> {
<a name="line162">162: </a>                    getSession().getExecutor().execute(new DsfRunnable() {
<a name="line163">163: </a><strong><font color="#4169E1">                        public void run()</font></strong> {
<a name="line164">164: </a>                            updateProgramLabelInSessionThread(update);
<a name="line165">165: </a>                        }});
<a name="line166">166: </a>                } <font color="#4169E1">catch</font> (RejectedExecutionException e) {
<a name="line167">167: </a>                    <font color="#B22222">// Acceptable race condition: DSF session terminated.</font>
<a name="line168">168: </a>                    handleFailedUpdate(update);
<a name="line169">169: </a>                }
<a name="line170">170: </a>            }
<a name="line171">171: </a>        }
<a name="line172">172: </a>    }
<a name="line173">173: </a>    
<a name="line174">174: </a>    @ConfinedToDsfExecutor(<font color="#666666">"getSession().getExecutor()"</font>)
<a name="line175">175: </a><strong><font color="#4169E1">    private void updateProgramLabelInSessionThread(final ILabelUpdate update)</font></strong> {
<a name="line176">176: </a>        <font color="#B22222">// Get a reference to the run control service.</font>
<a name="line177">177: </a>        final IRunControl runControl = getServicesTracker().getService(IRunControl.class);
<a name="line178">178: </a>        <font color="#4169E1">if</font> (runControl == null) {
<a name="line179">179: </a>            handleFailedUpdate(update);
<a name="line180">180: </a>            <font color="#4169E1">return</font>;
<a name="line181">181: </a>        }
<a name="line182">182: </a>        
<a name="line183">183: </a>        <font color="#B22222">// Find the PDA program context.</font>
<a name="line184">184: </a>        final PDAProgramDMContext programCtx = 
<a name="line185">185: </a>            findDmcInPath(update.getViewerInput(), update.getElementPath(), PDAProgramDMContext.class);

<a name="line187">187: </a>        <font color="#B22222">// Call service to get current program state</font>
<a name="line188">188: </a>        final boolean isSuspended = runControl.isSuspended(programCtx);

<a name="line190">190: </a>        <font color="#B22222">// Set the program icon based on the running state of the program.</font>
<a name="line191">191: </a>        String imageKey = null;
<a name="line192">192: </a>        <font color="#4169E1">if</font> (isSuspended) {
<a name="line193">193: </a>            imageKey = IDebugUIConstants.IMG_OBJS_THREAD_SUSPENDED;
<a name="line194">194: </a>        } <font color="#4169E1">else</font> {
<a name="line195">195: </a>            imageKey = IDebugUIConstants.IMG_OBJS_THREAD_RUNNING;
<a name="line196">196: </a>        }
<a name="line197">197: </a>        update.setImageDescriptor(DebugUITools.getImageDescriptor(imageKey), 0);

<a name="line199">199: </a>        <font color="#B22222">// Retrieve the last state chagne reason </font>
<a name="line200">200: </a>        runControl.getExecutionData(
<a name="line201">201: </a>            programCtx, 
<a name="line202">202: </a>            new DataRequestMonitor&lt;IExecutionDMData&gt;(ImmediateExecutor.getInstance(), null) 
<a name="line203">203: </a>            { 
<a name="line204">204: </a>                @Override
<a name="line205">205: </a><strong><font color="#4169E1">                public void handleCompleted()</font></strong>{
<a name="line206">206: </a>                    <font color="#B22222">// If the request failed, fail the udpate. </font>
<a name="line207">207: </a>                    <font color="#4169E1">if</font> (!getStatus().isOK()) {
<a name="line208">208: </a>                        handleFailedUpdate(update);
<a name="line209">209: </a>                        <font color="#4169E1">return</font>;
<a name="line210">210: </a>                    }
<a name="line211">211: </a>    
<a name="line212">212: </a>                    <font color="#B22222">// Compose the thread name string.</font>
<a name="line213">213: </a>                    final StringBuilder builder = new StringBuilder(); 
<a name="line214">214: </a>    
<a name="line215">215: </a>                    builder.append(<font color="#666666">"PDA ["</font>);
<a name="line216">216: </a>                    builder.append(programCtx.getProgram());
<a name="line217">217: </a>                    builder.append(<font color="#666666">"]"</font>);
<a name="line218">218: </a>                    
<a name="line219">219: </a>                    <font color="#4169E1">if</font>(isSuspended) {
<a name="line220">220: </a>                        builder.append(<font color="#666666">" (Suspended"</font>); 
<a name="line221">221: </a>                    } <font color="#4169E1">else</font> {
<a name="line222">222: </a>                        builder.append(<font color="#666666">" (Running"</font>); 
<a name="line223">223: </a>                    }
<a name="line224">224: </a>                    <font color="#B22222">// Reason will be null before ContainerSuspendEvent is fired</font>
<a name="line225">225: </a>                    <font color="#4169E1">if</font>(getData().getStateChangeReason() != null) {
<a name="line226">226: </a>                        builder.append(<font color="#666666">" : "</font>); 
<a name="line227">227: </a>                        builder.append(getData().getStateChangeReason());
<a name="line228">228: </a>                    }
<a name="line229">229: </a>                    builder.append(<font color="#666666">")"</font>); 
<a name="line230">230: </a>                    update.setLabel(builder.toString(), 0);
<a name="line231">231: </a>                    update.done();
<a name="line232">232: </a>                }
<a name="line233">233: </a>            });        
<a name="line234">234: </a>    }
<a name="line235">235: </a>    
<a name="line236">236: </a><strong><font color="#4169E1">    private void updateTerminatedThreadLabel(ILabelUpdate update)</font></strong> {
<a name="line237">237: </a>        update.setLabel(<font color="#666666">"&lt;terminated&gt; PDA ["</font> + getProgramName(update) + <font color="#666666">"]"</font>, 0);
<a name="line238">238: </a>        update.setImageDescriptor(DebugUITools.getImageDescriptor(IDebugUIConstants.IMG_OBJS_DEBUG_TARGET_TERMINATED), 0);
<a name="line239">239: </a>        update.done();
<a name="line240">240: </a>    }

<a name="line242">242: </a><strong><font color="#4169E1">    private String getProgramName(IViewerUpdate update)</font></strong> {
<a name="line243">243: </a>        <font color="#B22222">// Retrieve the program name from the launch object in the update path.</font>
<a name="line244">244: </a>        String program = <font color="#666666">"unknown program"</font>;
<a name="line245">245: </a>        ILaunch launch = findLaunchInPath(update.getElementPath());
<a name="line246">246: </a>        <font color="#4169E1">if</font> (launch != null) {
<a name="line247">247: </a>            <font color="#4169E1">try</font> {
<a name="line248">248: </a>                program = launch.getLaunchConfiguration().getAttribute(PDAPlugin.ATTR_PDA_PROGRAM, program);
<a name="line249">249: </a>            } <font color="#4169E1">catch</font> (CoreException e) {
<a name="line250">250: </a>                <font color="#B22222">// Ignore, label will revert to default.</font>
<a name="line251">251: </a>            }
<a name="line252">252: </a>        } 
<a name="line253">253: </a>        <font color="#4169E1">return</font> program;
<a name="line254">254: </a>    }
<a name="line255">255: </a>    
<a name="line256">256: </a><strong><font color="#4169E1">    private PDALaunch findLaunchInPath(TreePath path)</font></strong> {
<a name="line257">257: </a>        <font color="#4169E1">for</font> (int i = 0; i &lt; path.getSegmentCount(); i++) {
<a name="line258">258: </a>            <font color="#4169E1">if</font> (path.getSegment(i) instanceof PDALaunch) {
<a name="line259">259: </a>                <font color="#4169E1">return</font> (PDALaunch)path.getSegment(i);
<a name="line260">260: </a>            }
<a name="line261">261: </a>        }
<a name="line262">262: </a>        <font color="#4169E1">return</font> null;
<a name="line263">263: </a>    }

<a name="line265">265: </a><strong><font color="#4169E1">    public int getDeltaFlags(Object e)</font></strong> {
<a name="line266">266: </a>        <font color="#4169E1">if</font>(e instanceof IResumedDMEvent || e instanceof ISuspendedDMEvent) {
<a name="line267">267: </a>            <font color="#4169E1">return</font> IModelDelta.STATE;
<a name="line268">268: </a>        } 
<a name="line269">269: </a>        <font color="#4169E1">if</font> (e instanceof PDAStartedEvent) {
<a name="line270">270: </a>            <font color="#4169E1">return</font> IModelDelta.EXPAND | IModelDelta.SELECT;
<a name="line271">271: </a>        }
<a name="line272">272: </a>        <font color="#4169E1">return</font> IModelDelta.NO_CHANGE;
<a name="line273">273: </a>    }

<a name="line275">275: </a><strong><font color="#4169E1">    public void buildDelta(Object e, VMDelta parentDelta, int nodeOffset, RequestMonitor rm)</font></strong> {
<a name="line276">276: </a>        <font color="#4169E1">if</font>(e instanceof IResumedDMEvent || e instanceof ISuspendedDMEvent) {
<a name="line277">277: </a>            <font color="#B22222">// If a suspended/resumed event is received, just update the </font>
<a name="line278">278: </a>            <font color="#B22222">// state of the program.  StackFramesVMNode will take care of </font>
<a name="line279">279: </a>            <font color="#B22222">// refreshing the stack frames.</font>
<a name="line280">280: </a>            parentDelta.addNode(createVMContext(((IDMEvent&lt;?&gt;)e).getDMContext()), IModelDelta.STATE);
<a name="line281">281: </a>        } 
<a name="line282">282: </a>        <font color="#4169E1">if</font> (e instanceof PDAStartedEvent) {
<a name="line283">283: </a>            <font color="#B22222">// When debug session is started expand and select the program.</font>
<a name="line284">284: </a>            <font color="#B22222">// If the program hits a breakpoint, the top stack frame will then</font>
<a name="line285">285: </a>            <font color="#B22222">// be selected.</font>
<a name="line286">286: </a>            parentDelta.addNode(createVMContext(((PDAStartedEvent)e).getDMContext()), IModelDelta.EXPAND | IModelDelta.SELECT);            
<a name="line287">287: </a>        }
<a name="line288">288: </a>        rm.done();
<a name="line289">289: </a>           }
<a name="line290">290: </a>}
</pre>
</body>

</html>
